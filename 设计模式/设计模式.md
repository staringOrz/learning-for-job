#设计模式

## 设计原则

原则一：找出应用中可能需要变化的代码，把他们独立起来，不要和那些不需要变化的代码混在一起（分开变化和不变化的部分）

原则二：针对接口编程，而不是整对实现编程

原则三:多用组合，少用继承

## 观察者模式（推/拉）

定义对象之间的一对多依赖，这样一来，当一个对象改变状态时，他锁依赖的对象者收到通知并自动更新

要点：

- 观察者模式定义了一对多的关系
- 主题（可观察者）用一个共同的接口更新观察者
- 观察者和可观察者之间松耦合方式结合，可观察者不知道观察者能部的实现细节，只知道观察者实现了观察者的接口（该接口被可观察者用来更新观察者数据即推送）
- 使用此模式。你可以从观察者推或者拉数据（让而推是被认为是正确的方式）
- 有个观察者时，不可以依赖特定的通知次序

## 装饰者模式

要点：

- 继承属于扩展形式之一，但不见得是达到弹性设计的最佳方案
- 在我们设计中应该允许行为可以扩展，而无需修改现有代码（开放闭合原则，对扩展开放，对类代码修改封闭）
- 组合和委托可以在运行时动态的加上新的行为
- 除了继承，装饰者模式可以扩展我们的行为
- 装饰者模式意味着一群装饰者类，这些类用来包装具体的组件
- 装饰者反映出被装饰的组件类型
- 装饰者可以在被装饰者的行为前或者后加上特定的行为，设置可以覆盖被装饰者的行为
- 可以用无数个装饰者类包装一个组件
- 装饰者一般对组件的客户是透明的除非客户程序依赖于组件的具体类型
- 装饰者会导致设计中出现许多小类型，如果过度使用，会让程序变得复杂

